## Структура объекта

                                    n0000
                                  /       \
                              n0001       n0002
                            /       \
                        n0003       n0004
                                  /   |   \
                              n0005  n0006  n0007
##На сервере создано 2 базы данных: "measurements" и "family". Они содержат следующие таблицы:

family=# \d

            List of relations
            
 Schema |     Name     | Type  |  Owner  
 
--------+--------------+-------+----------

 
 public | n0000        | table | postgres
 
 public | n0001        | table | postgres
 
 public | n0002        | table | postgres
 
 public | n0003        | table | postgres
 
 public | n0004        | table | postgres
 
 public | n0005        | table | postgres
 
 public | n0006        | table | postgres
 
 public | n0007        | table | postgres
 
(8 rows)

measurements=# \d

         List of relations
         
 Schema | Name  | Type  |  Owner  
 
--------+-------+-------+----------

 public | n0000 | table | postgres
 
 public | n0001 | table | postgres
 
 public | n0002 | table | postgres
 
 public | n0003 | table | postgres
 
 public | n0004 | table | postgres
 
 public | n0005 | table | postgres
 
 public | n0006 | table | postgres
 
 public | n0007 | table | postgres
 
(8 rows)

##Выглядят они следующим образом:

measurements=# select * from n0000;

 time | temperature 
 
------+-------------

(0 rows)

family=# select * from n0000;

 id | child | capacity |   name  
 
----+-------+----------+----------

  0 | n0001 |        6 | Корпус 1
  
  1 | n0002 |        6 | Корпус 2
  
(2 rows)

Такая структура позволяет удобно раздавать пользователям правила доступа, скрыть структуру объекта от лишних глаз, локализовать данные об одном объекте физически рядом ...

##В данный момент таблицы измерений пусты, я предлагаю заполнять их так:

0) ip адрес сервера указан в const.py , настроить переадресацию, открыть порт, разрешить логиниться в postgres с любого ip. Если не подключается, позвоните мне и я проверю, работает ли ноут и запущен ли сервер.

1) запустить скрипт fill_measurements.py , он выберет бездетные объекты и для каждого из них заполнит таблицу первыми N(первая строка csv файла) измерениями из соответствующего файла.

2)в скрипте fill_measurements.py раскомментировать строчки 7,77 и закомментировать строчку 75. Увеличить N  в csv файлах на 1. Запустить скрипт. Убедиться, что для измерений в таблицах для бездетных объектов добавлена еще одна строчка.

3) в скрипте fill_measurements.py раскомментировать строчку 79. Увеличить N  в csv файлах на 1. Запустить скрипт. Убедиться, что для объектов с детьми появилась строчка измерений, посчитанная из данных их детей, с учетом их емкости.

4) в скрипте time_termo_graph.py в строчке 58 указать для какого объекта необходимо построить график, в строчке 59 указать время начала построения(проверить, есть ли данные после этого времени). Запустить скрипт, нарисуются измеренные точки и их интерполяция ( не используемая функция в этом скрипте умеет проводить интерполяцию через измеренные точки, но она не так красиво сглаживает).

5)запустите скрипт recreate_measurements_db.py, чтобы почистить данные об измерениях после себя.


